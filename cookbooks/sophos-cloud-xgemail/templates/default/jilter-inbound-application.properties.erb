# Xgemail Inbound Jilter Application Properties

application.name=xgemail-jilter-inbound

multi.policy.global.config.location=file:///policy-storage/config/inbound-relay-control/multi-policy/global.CONFIG
use.s3.policy.storage=true

POLICY_STORAGE_ROOT=s3://<%= @policy_bucket %>
MAILBOX_POLICY_FILE_PATH=config/policies/endpoints/
MAILBOX_LOCAL_PART_FILE_PATH=config/policies/domains/
MAILBOX_DLP_POLICY_FILE_PATH=config/policies/dlp/

CUSTOMER_SUBMIT_STORAGE_ROOT=s3://no-access
INTERNET_SUBMIT_STORAGE_ROOT=s3://<%= @internet_submit_bucket %>

ACCOUNT=<%= @account %>

management.security.enabled=false

# Need to explicitly ignore redis auto configuration
spring.data.redis.repositories.enabled=false
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration

# Customer Email license expiry grace period in days
customer.email.license.gracePeriod = P30D

# Jilter helo telemetry firehose stream name
xgemail.jilter.helo.telemetry.firehose.stream.name=<%= @jilter_helo_telemetry_stream %>

aws.region=<%= @region %>
central.vpcId=<%= @station_vpc_id %>
station.account.role.arn=<%= @station_account_role_arn %>

#Active Data Refresh Cache TTL
xgemail.active.data.refresh.local.cache.ttl = 900000

#Active Data Refresh Flag
xgemail.active.data.refresh.enabled = true

NODE_IP=<%= @node_ip %>
MSG_HISTORY_KINESIS_STREAM_NAME=<%= @msg_history_v2_stream_name %>

MSG_HISTORY_EVENT_DIR=<%= @msg_history_event_dir %>
MSG_HISTORY_EVENT_PROCESSOR_POOL_SIZE=<%= @msg_history_event_processor_pool_size %>
MSG_HISTORY_EVENT_PROCESSOR_PORT=<%= @msg_history_event_processor_port %>

MSG_HISTORY_BUCKET_ROOT=s3://<%= @msg_history_v2_bucket_name %>

outbound.relay.config.root=/opt/sophos/xgemail/config/outbound-relay-control/
bucket.storage.root=s3://<%= @policy_bucket %>/config/outbound-relay-control/