#!/bin/sh

# Add -Dlogging.config=./[LOCATION OF]logback.xml to manage logging

exec java -Dcom.sun.management.jmxremote.port=6007 \
    -Dcom.sun.management.jmxremote.authenticate=false \
    -Dcom.sun.management.jmxremote.ssl=false \
    -Djava.library.path=<%= @deployment_dir %>/xgemail-jilter-inbound/lib \
    -Dconf.dir=<%= @deployment_dir %>/xgemail-jilter-inbound/conf \
    -Dlog4j2.formatMsgNoLookups=true \
    -Dspring.profiles.active=<%= @active_profile %> \
    -Xms1024m \
    -Xmx1024m \
    -cp "<%= @deployment_dir %>/xgemail-jilter-inbound/lib/*" \
    com.sophos.xgemail.jilter.Application
