# These are the variables related to the common role.
# The common role is a role that is shared among the different playbooks.
# Each playbook has an associated role and in each role is a meta task which loads the common role first.
# The variables are organized into namespaces
aws:
  asg:
    bd:
      alarm_scaling_enabled:                                      "false"
      alarm_scale_in_threshold:                                   "10"
      alarm_scale_out_threshold:                                  "50"
      as_min_size:                                                "1"
      as_max_size:                                                "6"
      as_min_service:                                             "1"
      as_max_batch_size:                                          "1"
      health_check_grace_period:                                  "600"
      instance_size:                                              "t2.small"
      lifecycle_hook_launching:                                   "{{vpc.cloud_email.name}}-beta-delivery-Launching-LifeCycleHook"
      lifecycle_hook_terminating:                                 "{{vpc.cloud_email.name}}-beta-delivery-Terminating-LifeCycleHook"
    bx:
      asg_min_size:                                               [0,0,1]
      health_check_grace_period:                                  "600"
      instance_size:                                              "t2.small"
      lifecycle_hook_launching:                                   "{{vpc.cloud_email.name}}-beta-xdelivery-Launching-LifeCycleHook"
      stack_number:                                               [1,2,3]
      zone_index:                                                 [0,1,2]
    is:
      alarm_scaling_enabled:                                      "false"
      alarm_scale_in_threshold:                                   "100"
      alarm_scale_out_threshold:                                  "500"
      as_min_size:                                                "1"
      as_max_size:                                                "3"
      as_min_service:                                             "1"
      as_max_batch_size:                                          "1"
      health_check_grace_period:                                  "1500"
      instance_size:                                              "t2.small"
      lifecycle_hook_terminating:                                 "{{vpc.cloud_email.name}}-internet-submit-Terminating-LifeCycleHook"
      policy_target_value:                                        "85"
    cd:
      alarm_scaling_enabled:                                      "false"
      alarm_scale_in_threshold:                                   "10"
      alarm_scale_out_threshold:                                  "50"
      as_min_size:                                                "1"
      as_max_size:                                                "6"
      as_min_service:                                             "1"
      as_max_batch_size:                                          "1"
      health_check_grace_period:                                  "900"
      instance_size:                                              "t2.small"
      lifecycle_hook_terminating:                                 "{{vpc.cloud_email.name}}-customer-delivery-Terminating-LifeCycleHook"
    cx:
      asg_min_size:                                               [0,0,1]
      health_check_grace_period:                                  "900"
      instance_size:                                              "t2.small"
      stack_number:                                               [1,2,3]
      zone_index:                                                 [0,1,2]
    cs:
      as_min_size:                                                "1"
      as_max_size:                                                "3"
      as_min_service:                                             "1"
      as_max_batch_size:                                          "1"
      health_check_grace_period:                                  "2100"
      instance_size:                                              "t2.small"
      lifecycle_hook_terminating:                                 "{{vpc.cloud_email.name}}-customer-submit-Terminating-LifeCycleHook"
      policy_target_value:                                        "90"
    dd:
      alarm_scaling_enabled:                                      "false"
      alarm_scale_in_threshold:                                   "10"
      alarm_scale_out_threshold:                                  "50"
      as_min_size:                                                "1"
      as_max_size:                                                "6"
      as_min_service:                                             "1"
      as_max_batch_size:                                          "1"
      health_check_grace_period:                                  "600"
      instance_size:                                              "t2.small"
      lifecycle_hook_launching:                                   "{{vpc.cloud_email.name}}-delta-delivery-Launching-LifeCycleHook"
      lifecycle_hook_terminating:                                 "{{vpc.cloud_email.name}}-delta-delivery-Terminating-LifeCycleHook"
    dx:
      asg_min_size:                                               [0,0,1]
      health_check_grace_period:                                  "600"
      instance_size:                                              "t2.small"
      lifecycle_hook_launching:                                   "{{vpc.cloud_email.name}}-delta-xdelivery-Launching-LifeCycleHook"
      stack_number:                                               [1,2,3]
      zone_index:                                                 [0,1,2]
    id:
      alarm_scaling_enabled:                                      "false"
      alarm_scale_in_threshold:                                   "10"
      alarm_scale_out_threshold:                                  "50"
      as_min_size:                                                "1"
      as_max_size:                                                "6"
      as_min_service:                                             "1"
      as_max_batch_size:                                          "1"
      health_check_grace_period:                                  "600"
      instance_size:                                              "t2.small"
      lifecycle_hook_launching:                                   "{{vpc.cloud_email.name}}-internet-delivery-Launching-LifeCycleHook"
      lifecycle_hook_terminating:                                 "{{vpc.cloud_email.name}}-internet-delivery-Terminating-LifeCycleHook"
    ix:
      asg_min_size:                                               [0,0,1]
      health_check_grace_period:                                  "600"
      instance_size:                                              "t2.small"
      lifecycle_hook_launching:                                   "{{vpc.cloud_email.name}}-internet-xdelivery-Launching-LifeCycleHook"
      stack_number:                                               [1,2,3]
      zone_index:                                                 [0,1,2]
    es:
      as_min_size:                                                "1"
      as_max_size:                                                "3"
      as_min_service:                                             "1"
      as_max_batch_size:                                          "1"
      health_check_grace_period:                                  "600"
      instance_size:                                              "t2.small"
      lifecycle_hook_terminating:                                 "{{vpc.cloud_email.name}}-encryption-submit-Terminating-LifeCycleHook"
      policy_target_value:                                        "80"
    ed:
      as_min_size:                                                "1"
      as_max_size:                                                "3"
      as_min_service:                                             "1"
      as_max_batch_size:                                          "1"
      health_check_grace_period:                                  "600"
      instance_size:                                              "t2.small"
      lifecycle_hook_terminating:                                 "{{vpc.cloud_email.name}}-encryption-delivery-Terminating-LifeCycleHook"
      policy_target_value:                                        "80"
    rd:
      as_min_size:                                                "1"
      as_max_size:                                                "6"
      as_min_service:                                             "1"
      as_max_batch_size:                                          "1"
      health_check_grace_period:                                  "600"
      instance_size:                                              "t2.small"
      lifecycle_hook_launching:                                   "{{vpc.cloud_email.name}}-risky-delivery-Launching-LifeCycleHook"
      lifecycle_hook_terminating:                                 "{{vpc.cloud_email.name}}-risky-delivery-Terminating-LifeCycleHook"
      policy_target_value:                                        "80"
    rx:
      asg_min_size:                                               [0,0,1]
      health_check_grace_period:                                  "600"
      instance_size:                                              "t2.small"
      lifecycle_hook_launching:                                   "{{vpc.cloud_email.name}}-risky-xdelivery-Launching-LifeCycleHook"
      stack_number:                                               [1,2,3]
      zone_index:                                                 [0,1,2]
    wd:
      alarm_scaling_enabled:                                      "false"
      alarm_scale_in_threshold:                                   "10"
      alarm_scale_out_threshold:                                  "50"
      as_min_size:                                                "1"
      as_max_size:                                                "6"
      as_min_service:                                             "1"
      as_max_batch_size:                                          "1"
      health_check_grace_period:                                  "600"
      instance_size:                                              "t2.small"
      lifecycle_hook_launching:                                   "{{vpc.cloud_email.name}}-warmup-delivery-Launching-LifeCycleHook"
      lifecycle_hook_terminating:                                 "{{vpc.cloud_email.name}}-warmup-delivery-Terminating-LifeCycleHook"
    wx:
      asg_min_size:                                               [0,0,1]
      health_check_grace_period:                                  "600"
      instance_size:                                              "t2.small"
      lifecycle_hook_launching:                                   "{{vpc.cloud_email.name}}-warmup-xdelivery-Launching-LifeCycleHook"
      stack_number:                                               [1,2,3]
      zone_index:                                                 [0,1,2]
  efs:
    policy_efs_volume:
      encrypted:                                                  "true"
      performance_mode:                                           "generalPurpose"
      provisioned_throughput_in_mibps:                            "0"
      throughput_mode:                                            "bursting"
  es:
    toc_elasticsearch_domain:
      state:                                                      absent
      ebs_volume_size:                                            "10"
      es_version:                                                 "5.5"
      es_name:                                                    "toc-es"
      master_node_type:                                           "t2.small.elasticsearch"
      node_type:                                                  "t2.small.elasticsearch"
      instance_number:                                            "1"
      master_instance_number:                                     "0"
      snapshot_start_hour:                                        "4"
      zone_awareness:                                             "false"
  s3:
    customer_submit_bucket:
      stack_name:                                                 "{{stack.s3.customer_submit_bucket}}"
      template:                                                   "{{template.s3.s3_bucket_lambda_notification_template}}"
      template_parameters:
        Environment:                                              "{{account.name}}"
        RequireEncryptionForUploads:                              "sse-s3"
        S3BucketName:                                             "{{s3.customer_submit_bucket}}"
        S3LifeCycleDelete:                                        "30"
        S3PolicyCreate:                                           "true"
        SubmitBucketPolicy:                                       "true"
        LambdaNotificationFunctionArn:                            "{{lambda.arn_prefix}}{{lambda.antispam_out_data_collection_for_labs_lambda_function}}"
        LambdaNotificationFilterName:                             "suffix"
        LambdaNotificationFilterValue:                            "SASI.HEADER"
        S3PolicyPrincipalList:                                    "arn:aws:iam::{{aws_account_id}}:role/build-system-{{account.name}}"
        TagApplication:                                           "customer-submit"
    emergency_inbox_bucket:
      stack_name:                                                 "{{stack.s3.emergency_inbox_bucket}}"
      template:                                                   "{{template.s3.s3_bucket_template}}"
      template_parameters:
        Environment:                                              "{{account.name}}"
        RequireEncryptionForUploads:                              "sse-s3"
        S3BucketName:                                             "{{s3.emergency_inbox_bucket}}"
        S3LifeCycleDelete:                                        "14"
        S3PolicyCreate:                                           "true"
        S3PolicyPrincipalList:                                    "arn:aws:iam::{{aws_account_id}}:role/build-system-{{account.name}}"
        TagApplication:                                           "emergency-inbox"
    msg_history_bucket:
      stack_name:                                                 "{{stack.s3.msg_history_bucket}}"
      template:                                                   "{{template.s3.s3_bucket_template}}"
      template_parameters:
        Environment:                                              "{{account.name}}"
        RequireEncryptionForUploads:                              "sse-s3"
        S3BucketName:                                             "{{s3.msg_history_bucket}}"
        S3LifeCycleDelete:                                        "30"
        S3PolicyCreate:                                           "true"
        S3PolicyPrincipalList:                                    "arn:aws:iam::{{aws_account_id}}:role/build-system-{{account.name}}"
        TagApplication:                                           "xgemail-message-history"
    msg_history_ms_bucket:
      stack_name:                                                 "{{stack.s3.msg_history_ms_bucket}}"
      template:                                                   "{{template.s3.s3_bucket_template}}"
      template_parameters:
        Environment:                                              "{{account.name}}"
        RequireEncryptionForUploads:                              "sse-s3"
        S3BucketName:                                             "{{s3.msg_history_ms_bucket}}"
        S3LifeCycleDelete:                                        "30"
        S3PolicyCreate:                                           "true"
        S3PolicyPrincipalList:                                    "arn:aws:iam::{{aws_account_id}}:role/build-system-{{account.name}}"
        TagApplication:                                           "message-history"
    msg_stats_bucket:
      stack_name:                                                 "{{stack.s3.msg_stats_bucket}}"
      template:                                                   "{{template.s3.s3_bucket_template}}"
      template_parameters:
        Environment:                                              "{{account.name}}"
        RequireEncryptionForUploads:                              "sse-s3"
        S3BucketName:                                             "{{s3.msg_stats_bucket}}"
        S3LifeCycleDelete:                                        "365"
        S3PolicyCreate:                                           "true"
        S3PolicyPrincipalList:                                    "arn:aws:iam::{{aws_account_id}}:role/build-system-{{account.name}}"
        TagApplication:                                           "xgemail-message-stats"
    quarantine_bucket:
      stack_name:                                                 "{{stack.s3.quarantine_bucket}}"
      template:                                                   "{{template.s3.s3_bucket_template}}"
      template_parameters:
        Environment:                                              "{{account.name}}"
        RequireEncryptionForUploads:                              "sse-s3"
        S3BucketName:                                             "{{s3.quarantine_bucket}}"
        S3LifeCycleDelete:                                        "30"
        S3PolicyCreate:                                           "true"
        S3PolicyPrincipalList:                                    "arn:aws:iam::{{aws_account_id}}:role/build-system-{{account.name}}"
        TagApplication:                                           "xgemail-quarantine"
    internet_submit_bucket:
      stack_name:                                                 "{{stack.s3.internet_submit_bucket}}"
      template:                                                   "{{template.s3.s3_bucket_lambda_notification_template}}"
      template_parameters:
        Environment:                                              "{{account.name}}"
        RequireEncryptionForUploads:                              "sse-s3"
        S3BucketName:                                             "{{s3.internet_submit_bucket}}"
        S3LifeCycleDelete:                                        "30"
        S3PolicyCreate:                                           "true"
        SubmitBucketPolicy:                                       "true"
        LambdaNotificationFunctionArn:                            "{{lambda.arn_prefix}}{{lambda.antispam_data_collection_for_labs_lambda_function}}"
        LambdaNotificationFilterName:                             "suffix"
        LambdaNotificationFilterValue:                            "CYREN.HEADER"
        S3PolicyPrincipalList:                                    "arn:aws:iam::{{aws_account_id}}:role/build-system-{{account.name}}"
        TagApplication:                                           "internet-submit"
    lambda_bucket:
      stack_name:                                                 "{{stack.s3.lambda_bucket}}"
      template:                                                   "{{template.s3.s3_bucket_template}}"
      template_parameters:
        Environment:                                              "{{account.name}}"
        S3BucketName:                                             "{{s3.lambda_bucket}}"
        S3PolicyCreate:                                           "false"
        S3PolicyPrincipalList:                                    "arn:aws:iam::{{aws_account_id}}:role/build-system-{{account.name}}"
        TagApplication:                                           "cloudemail"
    policy_bucket:
      stack_name:                                                 "{{stack.s3.policy_bucket}}"
      template:                                                   "{{template.s3.s3_policy_bucket_template}}"
      template_parameters:
        Environment:                                              "{{account.name}}"
        S3BucketName:                                             "{{s3.policy_bucket}}"
        SnsPolicyTopic:                                           "{{sns.arn_prefix}}{{sns.policy_sns_topic}}"
        SnsRelayControlTopic:                                     "{{sns.arn_prefix}}{{sns.relay_control_sns_topic}}"
        SnsMultiPolicyTopic:                                      "{{sns.arn_prefix}}{{sns.multi_policy_sns_topic}}"
        TagApplication:                                           "xgemail-mail"
    delivery_director_bucket:
      stack_name:                                                 "{{stack.s3.delivery_director_bucket}}"
      template:                                                   "{{template.s3.s3_bucket_template}}"
      template_parameters:
        Environment:                                              "{{account.name}}"
        RequireEncryptionForUploads:                              "sse-s3"
        S3BucketName:                                             "{{s3.delivery_director_bucket}}"
        S3LifeCycleDelete:                                        "0"
        S3PolicyCreate:                                           "true"
        S3PolicyPrincipalList:                                    "arn:aws:iam::{{aws_account_id}}:role/build-system-{{account.name}}"
        TagApplication:                                           "delivery-director"
  sns:
    additional_actions_sns_topic:
      stack_name:                                                 "{{stack.sns.additional_actions_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "xgemail-mail"
        TopicName:                                                "{{sns.additional_actions_sns_topic}}"
    atr_reindex_sns_topic:
      stack_name:                                                 "{{stack.sns.atr_reindex_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "atr-index"
        TopicName:                                                "{{sns.atr_reindex_sns_topic}}"
    alarm_sns_topic:
      stack_name:                                                 "{{stack.sns.alarm_sns_topic}}"
      template:                                                   "{{template.sns.sns_template}}"
      template_parameters:
        SNSTopicEndpointProtocol:                                 "email-json"
        SNSTopicEndpointValue:                                    "SophosMailOps@sophos.com"
        SNSTopicName:                                             "{{sns.alarm_sns_topic}}"
    beta_delivery_sns_topic:
      stack_name:                                                 "{{stack.sns.beta_delivery_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "beta-delivery"
        TopicName:                                                "{{sns.beta_delivery_sns_topic}}"
    bounce_events_sns_topic:
      stack_name:                                                 "{{stack.sns.bounce_events_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "xgemail-mail"
        TopicName:                                                "{{sns.bounce_events_sns_topic}}"
    delay_sns_topic:
      stack_name:                                                 "{{stack.sns.delay_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "xgemail-mail"
        TopicName:                                                "{{sns.delay_sns_topic}}"
    deleted_events_sns_topic:
      stack_name:                                                 "{{stack.sns.deleted_events_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "xgemail-mail"
        TopicName:                                                "{{sns.deleted_events_sns_topic}}"
    delta_delivery_sns_topic:
      stack_name:                                                 "{{stack.sns.delta_delivery_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TopicName:                                                "{{sns.delta_delivery_sns_topic}}"
    encryption_delivery_events_sns_topic:
      stack_name:                                                 "{{stack.sns.encryption_delivery_events_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "encryption-delivery"
        TopicName:                                                "{{sns.encryption_delivery_events_sns_topic}}"
    encrypt_events_sns_topic:
      stack_name:                                                 "{{stack.sns.encrypt_events_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "encryption-delivery"
        TopicName:                                                "{{sns.encrypt_events_sns_topic}}"
    encryption_settings_update_sns_topic:
      stack_name:                                                 "{{stack.sns.encryption_settings_update_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "xgemail-mail"
        TopicName:                                                "{{sns.encryption_settings_update_sns_topic}}"
    internet_delivery_sns_topic:
      stack_name:                                                 "{{stack.sns.internet_delivery_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "internet-delivery"
        TopicName:                                                "{{sns.internet_delivery_sns_topic}}"
    mailops_notification_sns_topic:
      stack_name:                                                 "{{stack.sns.mailops_notification_sns_topic}}"
      template:                                                   "{{template.sns.sns_template}}"
      template_parameters:
        SNSTopicEndpointProtocol:                                 "email"
        SNSTopicEndpointValue:                                    "SophosMailOps@sophos.com"
        SNSTopicName:                                             "{{sns.mailops_notification_sns_topic}}"
    msg_history_events_sns_topic:
      stack_name:                                                 "{{stack.sns.msg_history_events_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "xgemail-mail"
        TopicName:                                                "{{sns.msg_history_events_sns_topic}}"
    msg_history_status_sns_topic:
      stack_name:                                                 "{{stack.sns.msg_history_status_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "xgemail-mail"
        TopicName:                                                "{{sns.msg_history_status_sns_topic}}"
    msg_history_status_retry_sns_topic:
      stack_name:                                                 "{{stack.sns.msg_history_status_retry_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "xgemail-mail"
        TopicName:                                                "{{sns.msg_history_status_retry_sns_topic}}"
    msg_statistics_rejection_sns_topic:
      stack_name:                                                 "{{stack.sns.msg_statistics_rejection_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "xgemail-mail"
        TopicName:                                                "{{sns.msg_statistics_rejection_sns_topic}}"
    multi_policy_sns_topic:
      stack_name:                                                 "{{stack.sns.multi_policy_sns_topic}}"
      template:                                                   "{{template.sns.sns_topic_policy_s3_template}}"
      template_parameters:
        TagApplication:                                           "xgemail-mail"
        TopicName:                                                "{{sns.multi_policy_sns_topic}}"
        SnsS3TopicPolicyBucket:                                   "{{s3.policy_bucket}}"
        SnsS3TopicPolicyCreate:                                   "true"
    msg_statistics_reindex_sns_topic:
      stack_name:                                                 "{{stack.sns.msg_statistics_reindex_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "xgemail-mail"
        TopicName:                                                "{{sns.msg_statistics_reindex_sns_topic}}"
    notification_sns_topic:
      stack_name:                                                 "{{stack.sns.notification_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "xgemail-mail"
        TopicName:                                                "{{sns.notification_sns_topic}}"
    policy_sns_topic:
      stack_name:                                                 "{{stack.sns.policy_sns_topic}}"
      template:                                                   "{{template.sns.sns_topic_policy_s3_template}}"
      template_parameters:
        TagApplication:                                           "xgemail-mail"
        TopicName:                                                "{{sns.policy_sns_topic}}"
        SnsS3TopicPolicyBucket:                                   "{{s3.policy_bucket}}"
        SnsS3TopicPolicyCreate:                                   "true"
    policy_refresh_event_sns_topic:
      stack_name:                                                 "{{stack.sns.policy_refresh_event_sns_topic}}"
      template:                                                   "{{template.sns.sns_topic_policy_iam_template}}"
      template_parameters:
        TagApplication:                                           "xgemail-mail"
        TopicName:                                                "{{sns.policy_refresh_event_sns_topic}}"
    quarantined_events_sns_topic:
      stack_name:                                                 "{{stack.sns.quarantined_events_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "xgemail-mail"
        TopicName:                                                "{{sns.quarantined_events_sns_topic}}"
    relay_control_sns_topic:
      stack_name:                                                 "{{stack.sns.relay_control_sns_topic}}"
      template:                                                   "{{template.sns.sns_topic_policy_s3_template}}"
      template_parameters:
        TagApplication:                                           "xgemail-mail"
        TopicName:                                                "{{sns.relay_control_sns_topic}}"
        SnsS3TopicPolicyBucket:                                   "{{s3.policy_bucket}}"
        SnsS3TopicPolicyCreate:                                   "true"
    redirect_events_sns_topic:
      stack_name:                                                 "{{stack.sns.redirect_events_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "xgemail-mail"
        TopicName:                                                "{{sns.redirect_events_sns_topic}}"
    risky_delivery_sns_topic:
      stack_name:                                                 "{{stack.sns.risky_delivery_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "risky-delivery"
        TopicName:                                                "{{sns.risky_delivery_sns_topic}}"
    scan_events_sns_topic:
      stack_name:                                                 "{{stack.sns.scan_events_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "mail-inbound"
        TopicName:                                                "{{sns.scan_events_sns_topic}}"
    sender_check_reject_sns_topic:
      stack_name:                                                 "{{stack.sns.sender_check_reject_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "xgemail-mail"
        TopicName:                                                "{{sns.sender_check_reject_sns_topic}}"
    snd_clawback_events_sns_topic:
      stack_name:                                                 "{{stack.sns.snd_clawback_events_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "snd-clawback"
        TopicName:                                                "{{sns.snd_clawback_events_sns_topic}}"
    success_events_sns_topic:
      stack_name:                                                 "{{stack.sns.success_events_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "customer-delivery"
        TopicName:                                                "{{sns.success_events_sns_topic}}"
    toc_settings_update_event_sns_topic:
      stack_name:                                                 "{{stack.sns.toc_settings_update_event_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "xgemail-mail"
        TopicName:                                                "{{sns.toc_settings_update_event_sns_topic}}"
    user_allow_block_action_sns_topic:
      stack_name:                                                 "{{stack.sns.user_allow_block_action_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "xgemail-mail"
        TopicName:                                                "{{sns.user_allow_block_action_sns_topic}}"
    user_deleted_action_sns_topic:
      stack_name:                                                 "{{stack.sns.user_deleted_action_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "xgemail-mail"
        TopicName:                                                "{{sns.user_deleted_action_sns_topic}}"
    warmup_delivery_sns_topic:
      stack_name:                                                 "{{stack.sns.warmup_delivery_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "warmup-delivery"
        TopicName:                                                "{{sns.warmup_delivery_sns_topic}}"
    journal_archive_delivery_sns_topic:
      stack_name:                                                 "{{stack.sns.journal_archive_delivery_sns_topic}}"
      template:                                                   "{{template.sns.sns_simple_template}}"
      template_parameters:
        TagApplication:                                           "xgemail-mail"
        TopicName:                                                "{{sns.journal_archive_delivery_sns_topic}}"

  sqs:
    additional_action_sqs_queue_sns_listener:
      stack_name:                                                 "{{stack.sqs.additional_action_sqs_queue_sns_listener}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.additional_action_sqs_queue_sns_listener}}"
        TagApplication:                                           "xgemail-mail"
    allow_block_upload_sqs_queue:
      stack_name:                                                 "{{stack.sqs.allow_block_upload_sqs_queue}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.allow_block_upload_sqs_queue}}"
        TagApplication:                                           "xgemail-mail"
        VisibilityTimeout:                                        "18000"
    atr_reindex_sqs_queue_sns_listener:
      stack_name:                                                 "{{stack.sqs.atr_reindex_sqs_queue_sns_listener}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        TagApplication:                                           "atr-index"
        QueueName:                                                "{{sqs.atr_reindex_sqs_queue_sns_listener}}"
    beta_delivery_sqs_queue_sns_listener:
      stack_name:                                                 "{{stack.sqs.beta_delivery_sqs_queue_sns_listener}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.beta_delivery_sqs_queue_sns_listener}}"
        TagApplication:                                           "beta-delivery"
    bulk_sender_action_sqs_queue:
      stack_name:                                                 "{{stack.sqs.bulk_sender_action_sqs_queue}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.bulk_sender_action_sqs_queue}}"
        TagApplication:                                           "xgemail-mail"
    bulk_sender_approval_sqs_queue:
      stack_name:                                                 "{{stack.sqs.bulk_sender_approval_sqs_queue}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.bulk_sender_approval_sqs_queue}}"
        TagApplication:                                           "xgemail-mail"
    customer_delivery_sqs_queue:
      stack_name:                                                 "{{stack.sqs.customer_delivery_sqs_queue}}"
      state:                                                      absent
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.customer_delivery_sqs_queue}}"
        TagApplication:                                           "customer-delivery"
    customer_license_update_sqs_queue:
      stack_name:                                                 "{{stack.sqs.customer_license_update_sqs_queue}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.customer_license_update_sqs_queue}}"
        TagApplication:                                           "xgemail-mail"
    customer_submit_sqs_queue:
      stack_name:                                                 "{{stack.sqs.customer_submit_sqs_queue}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.customer_submit_sqs_queue}}"
        TagApplication:                                           "customer-submit"
    customer_delivery_sqs_queue_sns_listener:
      stack_name:                                                 "{{stack.sqs.customer_delivery_sqs_queue_sns_listener}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.customer_delivery_sqs_queue_sns_listener}}"
        TagApplication:                                           "customer-delivery"
    dqs_sqs_queue:
      stack_name:                                                 "{{stack.sqs.dqs_sqs_queue}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.dqs_sqs_queue}}"
        TagApplication:                                           "xgemail-mail"
    delay_sqs_queue:
      stack_name:                                                 "{{stack.sqs.delay_sqs_queue}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.delay_sqs_queue}}"
        TagApplication:                                           "xgemail-mail"
        DelaySeconds:                                             "240"
    dlp_report_sqs_queue:
      stack_name:                                                 "{{stack.sqs.dlp_report_sqs_queue}}"
      state:                                                      absent
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.dlp_report_sqs_queue}}"
    delta_delivery_sqs_queue_sns_listener:
      stack_name:                                                 "{{stack.sqs.delta_delivery_sqs_queue_sns_listener}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.delta_delivery_sqs_queue_sns_listener}}"
    encryption_delivery_sqs_queue_sns_listener:
      stack_name:                                                 "{{stack.sqs.encryption_delivery_sqs_queue_sns_listener}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.encryption_delivery_sqs_queue_sns_listener}}"
        TagApplication:                                           "encryption-delivery"
    encryption_settings_sqs_queue_sns_listener:
      stack_name:                                                 "{{stack.sqs.encryption_settings_update_sqs_queue_sns_listener}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.encryption_settings_update_sqs_queue_sns_listener}}"
        TagApplication:                                           "xgemail-mail"
    emergency_inbox_sqs_queue:
      stack_name:                                                 "{{stack.sqs.emergency_inbox_sqs_queue}}"
      state:                                                      absent
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.emergency_inbox_sqs_queue}}"
        TagApplication:                                           "emergency-inbox"
    emergency_inbox_sqs_queue_sns_listener:
      stack_name:                                                 "{{stack.sqs.emergency_inbox_sqs_queue_sns_listener}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.emergency_inbox_sqs_queue_sns_listener}}"
        TagApplication:                                           "emergency-inbox"
    internet_delivery_sqs_queue_sns_listener:
      stack_name:                                                 "{{stack.sqs.internet_delivery_sqs_queue_sns_listener}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.internet_delivery_sqs_queue_sns_listener}}"
        TagApplication:                                           "internet-delivery"
    impersonation_request_queue:
      stack_name:                                                 "{{stack.sqs.impersonation_request_queue}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.impersonation_request_queue}}"
        TagApplication:                                           "xgemail-mail"
    impersonation_response_queue:
      stack_name:                                                 "{{stack.sqs.impersonation_response_queue}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.impersonation_response_queue}}"
        TagApplication:                                           "xgemail-mail"
    internet_delivery_sqs_queue:
      stack_name:                                                 "{{stack.sqs.internet_delivery_sqs_queue}}"
      state:                                                      absent
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.internet_delivery_sqs_queue}}"
    internet_submit_service_sqs_queue:
      stack_name:                                                 "{{stack.sqs.internet_submit_service_sqs_queue}}"
      state:                                                      absent
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.internet_submit_service_sqs_queue}}"
        TagApplication:                                           "internet-submit"
    internet_submit_sqs_queue:
      stack_name:                                                 "{{stack.sqs.internet_submit_sqs_queue}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.internet_submit_sqs_queue}}"
        TagApplication:                                           "internet-submit"
    lifecycle_sqs_sns:
      stack_name:                                                 "{{stack.sqs.lifecycle_sqs_sns}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_sns_subscription_template}}"
      template_parameters:
        Branch:                                                   "{{build.branch}}"
        Environment:                                              "{{account.name}}"
        SubscriptionName:                                         "xgemail-lifecycle"
    msg_history_status_sqs_queue:
      stack_name:                                                 "{{stack.sqs.msg_history_status_sqs_queue}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.msg_history_status_sqs_queue}}"
        DelaySeconds:                                             "20"
        TagApplication:                                           "xgemail-mail"
    msg_history_status_sqs_queue_sns_listener:
      stack_name:                                                 "{{stack.sqs.msg_history_status_sqs_queue_sns_listener}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.msg_history_status_sqs_queue_sns_listener}}"
        DelaySeconds:                                             "20"
        TagApplication:                                           "xgemail-mail"
    msg_history_status_retry_sqs_queue_sns_listener:
      stack_name:                                                 "{{stack.sqs.msg_history_status_retry_sqs_queue_sns_listener}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.msg_history_status_retry_sqs_queue_sns_listener}}"
        DelaySeconds:                                             "20"
        VisibilityTimeout:                                        "900"
        MessageRetentionPeriod:                                   "1209600"
        TagApplication:                                           "xgemail-mail"
    msg_history_sqs_queue:
      stack_name:                                                 "{{stack.sqs.msg_history_sqs_queue}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.msg_history_sqs_queue}}"
        TagApplication:                                           "xgemail-mail"
    msg_history_sqs_queue_sns_listener:
      stack_name:                                                 "{{stack.sqs.msg_history_sqs_queue_sns_listener}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.msg_history_sqs_queue_sns_listener}}"
        TagApplication:                                           "xgemail-mail"
    msg_statistics_sqs_queue:
      stack_name:                                                 "{{stack.sqs.msg_statistics_sqs_queue}}"
      state:                                                      absent
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.msg_statistics_sqs_queue}}"
        TagApplication:                                           "xgemail-mail"
    msg_statistics_rejection_sqs_queue:
      stack_name:                                                 "{{stack.sqs.msg_statistics_rejection_sqs_queue}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.msg_statistics_rejection_sqs_queue}}"
        TagApplication:                                           "xgemail-mail"
    multi_policy_sqs_queue:
      stack_name:                                                 "{{stack.sqs.multi_policy_sqs_queue}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.multi_policy_sqs_queue}}"
        TagApplication:                                           "xgemail-mail"
    msg_statistics_sqs_queue_sns_listener:
      stack_name:                                                 "{{stack.sqs.msg_statistics_sqs_queue_sns_listener}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.msg_statistics_sqs_queue_sns_listener}}"
        TagApplication:                                           "xgemail-mail"
    message_redirect_sqs_queue_sns_listener:
      stack_name:                                                 "{{stack.sqs.message_redirect_sqs_queue_sns_listener}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.message_redirect_sqs_queue_sns_listener}}"
        TagApplication:                                           "xgemail-mail"
    message_bounce_sqs_queue_sns_listener:
      stack_name:                                                 "{{stack.sqs.message_bounce_sqs_queue_sns_listener}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.message_bounce_sqs_queue_sns_listener}}"
        TagApplication:                                           "xgemail-mail"
    notifier_request_sqs_queue:
      stack_name:                                                 "{{stack.sqs.notifier_request_sqs_queue}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.notifier_request_sqs_queue}}"
        TagApplication:                                           "xgemail-mail"
    outbound_malware_protection_queue_sns_listener:
      stack_name:                                                 "{{stack.sqs.outbound_malware_protection_queue_sns_listener}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.outbound_malware_protection_queue_sns_listener}}"
        TagApplication:                                           "xgemail-omp"
    outbound_malware_protection_unblock_sender_queue:
      stack_name:                                                 "{{stack.sqs.outbound_malware_protection_unblock_sender_queue}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.outbound_malware_protection_unblock_sender_queue}}"
        DelaySeconds:                                             "900"
        TagApplication:                                           "xgemail-omp"
    policy_refresh_event_sqs_queue_sns_listener:
      stack_name:                                                 "{{stack.sqs.policy_refresh_event_sqs_queue_sns_listener}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.policy_refresh_event_sqs_queue_sns_listener}}"
        TagApplication:                                           "xgemail-mail"
    quarantine_sqs_queue:
      stack_name:                                                 "{{stack.sqs.quarantine_sqs_queue}}"
      state:                                                      absent
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.quarantine_sqs_queue}}"
        TagApplication:                                           "xgemail-mail"
    quarantine_sqs_queue_sns_listener:
      stack_name:                                                 "{{stack.sqs.quarantine_sqs_queue_sns_listener}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.quarantine_sqs_queue_sns_listener}}"
        TagApplication:                                           "xgemail-mail"
    risky_delivery_sqs_queue_sns_listener:
      stack_name:                                                 "{{stack.sqs.risky_delivery_sqs_queue_sns_listener}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.risky_delivery_sqs_queue_sns_listener}}"
        TagApplication:                                           "risky-delivery"
    sender_check_reject_queue:
      stack_name:                                                 "{{stack.sqs.sender_check_reject_queue}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        TagApplication:                                           "xgemail-mail"
        QueueName:                                                "{{sqs.sender_check_reject_queue}}"
    toc_settings_update_sqs_queue_sns_listener:
      stack_name:                                                 "{{stack.sqs.toc_settings_update_sqs_queue_sns_listener}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.toc_settings_update_sqs_queue_sns_listener}}"
        TagApplication:                                           "xgemail-mail"
    user_allow_block_action_sqs_queue_sns_listener:
      stack_name:                                                 "{{stack.sqs.user_allow_block_action_sqs_queue_sns_listener}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.user_allow_block_action_sqs_queue_sns_listener}}"
        TagApplication:                                           "xgemail-mail"
    user_deleted_action_sqs_queue_sns_listener:
      stack_name:                                                 "{{stack.sqs.user_deleted_action_sqs_queue_sns_listener}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.user_deleted_action_sqs_queue_sns_listener}}"
        TagApplication:                                           "xgemail-mail"
    warmup_delivery_sqs_queue_sns_listener:
      stack_name:                                                 "{{stack.sqs.warmup_delivery_sqs_queue_sns_listener}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.warmup_delivery_sqs_queue_sns_listener}}"
        TagApplication:                                           "warmup-delivery"
    xgemail_alert_sqs_queue:
      stack_name:                                                 "{{stack.sqs.xgemail_alert_sqs_queue}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.xgemail_alert_sqs_queue}}"
        TagApplication:                                           "xgemail-mail"
    xgemail_archive_ingestion_sqs_queue:
      stack_name:                                                 "{{stack.sqs.archive_ingestion_sqs_queue}}"
      state:                                                      present
      template:                                                   "{{template.sqs.sqs_simple_template}}"
      template_parameters:
        QueueName:                                                "{{sqs.archive_ingestion_sqs_queue}}"
        TagApplication:                                           "xgemail-mail"
aes_decryption_key:                                               "{{lookup('env','AES_KEY') | default('EFB0D00E7B34527A6CFE3CD804A53312C5A7AF129650A9793D2CEF3A3C6B3741')}}"
ami_parent_id:                                                    "{{ami_id}}"
as_min_cap_bastion:                                               "1"
elb_security_policy:                                              "ELBSecurityPolicy-2016-08"
hostedzone:                                                       "hydra.sophos.com"
cron_scale_down:                                                  "0 1 * * 6"
cron_scale_up:                                                    "0 4 * * 1"
nat_eip_a:                                                        "{{cloud_email_vpc_output.ansible_facts.cloudformation[stack.vpc.cloud_email_vpc].stack_outputs.NatEipA}}"
hopper_public_ip:                                                 "198.144.101.106/32"
instance_size_elasticsearch:                                      "t2.medium"
instance_size_bastion:                                            "m5.large"
spot_price:                                                       "-1"
weekend_scale_down:                                               "true"
xgemail_sxl_dbl:                                                  "uri.cal1.sophosxl.com"
xgemail_sxl_rbl:                                                  "fur.cal1.sophosxl.com"
xgemail_iops_data_gb:                                             "0"
xgemail_size_data_gb:                                             "40"
external_ip_access:
  hopper:
    a:                                                            "64.86.143.222/32"
    b:                                                            "216.6.116.222/32"
    c:                                                            "198.144.101.106/32"
  utm:
    a:                                                            "198.144.101.25/32"
    b:                                                            "198.144.101.58/32"
    c:                                                            "198.144.101.39/32"
  office:
    bur:
      a:                                                          "66.110.40.234/32"
      b:                                                          "64.86.143.194/32"
      c:                                                          "66.110.40.242/32"
      d:                                                          "216.6.116.194/32"
      e:                                                          "198.144.101.2/32"
